<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-3QDFV4L7YB"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            
            gtag('config', 'G-3QDFV4L7YB');
            
        </script>
    <link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Utilities" href="utilities.html" /><link rel="prev" title="Distances" href="distances.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Post-Processing - inFairness</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-announcement-background: #935610;
  --color-announcement-text: #FFFFFF;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: #935610;
  --color-announcement-text: #FFFFFF;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: #935610;
  --color-announcement-text: #FFFFFF;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     <p><small>Check out our demonstration exploring individual and group fairness of three BERT-based toxic text classification models <a class="sd-sphinx-override sd-badge sd-text-wrap sd-bg-dark sd-bg-text-dark reference external" target="_blank"href="https://fairbert.vizhub.ai"><span>Demonstration</span></a></small></p> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">inFairness</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/infairness-logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../papers.html">Papers implemented</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">API Documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="auditors.html">Auditors</a></li>
<li class="toctree-l2"><a class="reference internal" href="distances.html">Distances</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Post-Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../development/index.html">Development</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Development</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/auditors.html">Auditors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/distances.html">Distances</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/IBM/inFairness">GitHub Repository</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="post-processing">
<h1>Post-Processing<a class="headerlink" href="#post-processing" title="Link to this heading">#</a></h1>
<p>Post-Processing methods included in the package</p>
<section id="base-post-processing-class">
<h2>Base post-processing class<a class="headerlink" href="#base-post-processing-class" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="inFairness.postprocessing.BasePostProcessing">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">inFairness.postprocessing.</span></span><span class="sig-name descname"><span class="pre">BasePostProcessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_output_probas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inFairness/postprocessing/base_postprocessing.html#BasePostProcessing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inFairness.postprocessing.BasePostProcessing" title="Link to this definition">#</a></dt>
<dd><p>Base class for Post-Processing methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance_x</strong> (<a class="reference internal" href="../api/inFairness.distances.html#inFairness.distances.Distance" title="inFairness.distances.Distance"><em>inFairness.distances.Distance</em></a>) – Distance matrix in the input space</p></li>
<li><p><strong>is_output_probas</strong> (<em>bool</em>) – True if the <cite>data_Y</cite> (model output) are probabilities implying that
this is a classification setting, and False if the <cite>data_Y</cite> are
in euclidean space implying that this is a regression setting.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="inFairness.postprocessing.BasePostProcessing.add_datapoints">
<span class="sig-name descname"><span class="pre">add_datapoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><span class="pre">Tensor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><span class="pre">Tensor</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inFairness/postprocessing/base_postprocessing.html#BasePostProcessing.add_datapoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inFairness.postprocessing.BasePostProcessing.add_datapoints" title="Link to this definition">#</a></dt>
<dd><p>Add datapoints to the post-processing method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><em>torch.Tensor</em></a>) – New input datapoints</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><em>torch.Tensor</em></a>) – New output datapoints</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="inFairness.postprocessing.BasePostProcessing.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#inFairness.postprocessing.BasePostProcessing.data" title="Link to this definition">#</a></dt>
<dd><p>Input and Output data used for post-processing</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – A tuple of (X, Y) data points</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple(<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)">torch.Tensor</a>, <a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)">torch.Tensor</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="inFairness.postprocessing.BasePostProcessing.distance_matrix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">distance_matrix</span></span><a class="headerlink" href="#inFairness.postprocessing.BasePostProcessing.distance_matrix" title="Link to this definition">#</a></dt>
<dd><p>Distance matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>distance_matrix</strong> – Matrix of distances of shape (N, N) where
N is the number of data samples</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)">torch.Tensor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="inFairness.postprocessing.BasePostProcessing.reset_datapoints">
<span class="sig-name descname"><span class="pre">reset_datapoints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inFairness/postprocessing/base_postprocessing.html#BasePostProcessing.reset_datapoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inFairness.postprocessing.BasePostProcessing.reset_datapoints" title="Link to this definition">#</a></dt>
<dd><p>Reset datapoints store back to its initial state</p>
</dd></dl>

</dd></dl>

</section>
<section id="graph-laplacian-individual-fairness-glif">
<h2>Graph Laplacian Individual Fairness (GLIF)<a class="headerlink" href="#graph-laplacian-individual-fairness-glif" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="inFairness.postprocessing.GraphLaplacianIF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">inFairness.postprocessing.</span></span><span class="sig-name descname"><span class="pre">GraphLaplacianIF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_output_probas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inFairness/postprocessing/glif.html#GraphLaplacianIF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inFairness.postprocessing.GraphLaplacianIF" title="Link to this definition">#</a></dt>
<dd><p>Implements the Graph Laplacian Individual Fairness Post-Processing method.</p>
<p>Proposed in <a class="reference external" href="https://arxiv.org/abs/2110.13796">Post-processing for Individual Fairness</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance_x</strong> (<a class="reference internal" href="../api/inFairness.distances.html#inFairness.distances.Distance" title="inFairness.distances.Distance"><em>inFairness.distances.Distance</em></a>) – Distance metric in the input space</p></li>
<li><p><strong>is_output_probas</strong> (<em>bool</em>) – True if the <cite>data_Y</cite> (model output) are probabilities implying that
this is a classification setting, and False if the <cite>data_Y</cite> are
in euclidean space implying that this is a regression setting.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="inFairness.postprocessing.GraphLaplacianIF.get_objective">
<span class="sig-name descname"><span class="pre">get_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W_graph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inFairness/postprocessing/glif.html#GraphLaplacianIF.get_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inFairness.postprocessing.GraphLaplacianIF.get_objective" title="Link to this definition">#</a></dt>
<dd><p>Compute the objective values for the individual fairness as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\widehat{\mathbf{f}} =  \arg \min_{\mathbf{f}} \ \|\mathbf{f} - \hat{\mathbf{y}}\|_2^2 + \lambda \ \mathbf{f}^{\top}\mathbb{L_n} \mathbf{f}\]</div>
</div>
<p>Refer equation 3.1 in the paper</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_solution</strong> (<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><em>torch.Tensor</em></a>) – Post-processed solution values of shape (N, C)</p></li>
<li><p><strong>lambda_param</strong> (<em>float</em>) – Weight for the Laplacian Regularizer</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Parameter used to scale the computed distances.
Refer equation 2.2 in the proposing paper.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – Parameter used to construct the Graph from distances
Distances below provided threshold are considered to be
connected edges, while beyond the threshold are considered to
be disconnected. Refer equation 2.2 in the proposing paper.</p></li>
<li><p><strong>normalize</strong> (<em>bool</em>) – Whether to normalize the computed Laplacian or not</p></li>
<li><p><strong>W_graph</strong> (<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><em>torch.Tensor</em></a>) – Adjacency matrix of shape (N, N)</p></li>
<li><p><strong>idxs</strong> (<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><em>torch.Tensor</em></a>) – Indices of data points which are included in the adjacency matrix</p></li>
<li><p><strong>L</strong> (<a class="reference external" href="https://pytorch.org/docs/1.9.0/tensors.html#torch.Tensor" title="(in PyTorch v1.9.0a0+gitd69c22d)"><em>torch.Tensor</em></a>) – Laplacian of the adjacency matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>objective</strong> –</p>
<dl class="simple">
<dt>post-processed solution containing two parts:</dt><dd><ol class="loweralpha simple">
<li><p>Post-processed output probabilities of shape  (N, C)
where N is the number of data samples, and C is the
number of output classes</p></li>
<li><p>Objective values. Refer equation 3.1 in the paper
for an explanation of the various parts</p></li>
</ol>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api/inFairness.postprocessing.datainterfaces.html#inFairness.postprocessing.datainterfaces.PostProcessingObjectiveResponse" title="inFairness.postprocessing.datainterfaces.PostProcessingObjectiveResponse">PostProcessingObjectiveResponse</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="inFairness.postprocessing.GraphLaplacianIF.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inFairness/postprocessing/glif.html#GraphLaplacianIF.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inFairness.postprocessing.GraphLaplacianIF.postprocess" title="Link to this definition">#</a></dt>
<dd><p>Implements the Graph Laplacian Individual Fairness Post-processing algorithm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – <p>GLIF method type. Possible values are:</p>
<p>(a) <cite>coordinate-descent</cite> method which is more suitable for
large-scale data and post-processes by batching data into minibatches
(see section 3.2.2 of the paper), or</p>
<p>(b) <cite>exact</cite> method which gets the exact solution but is not appropriate
for large-scale data (refer equation 3.3 in the paper).</p>
</p></li>
<li><p><strong>lambda_param</strong> (<em>float</em>) – Weight for the Laplacian Regularizer</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Parameter used to scale the computed distances.
Refer equation 2.2 in the proposing paper.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – Parameter used to construct the Graph from distances
Distances below provided threshold are considered to be
connected edges, while beyond the threshold are considered to
be disconnected. Refer equation 2.2 in the proposing paper.</p></li>
<li><p><strong>normalize</strong> (<em>bool</em>) – Whether to normalize the computed Laplacian or not</p></li>
<li><p><strong>batchsize</strong> (<em>int</em>) – Batch size. <em>Required when method=`coordinate-descent`</em></p></li>
<li><p><strong>epochs</strong> (<em>int</em>) – Number of coordinate descent epochs.
<em>Required when method=`coordinate-descent`</em></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>solution</strong> –</p>
<dl class="simple">
<dt>post-processed solution containing two parts:</dt><dd><ol class="loweralpha simple">
<li><p>Post-processed output probabilities of shape  (N, C)
where N is the number of data samples, and C is the
number of output classes</p></li>
<li><p>Objective values. Refer equation 3.1 in the paper
for an explanation of the various parts</p></li>
</ol>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api/inFairness.postprocessing.datainterfaces.html#inFairness.postprocessing.datainterfaces.PostProcessingObjectiveResponse" title="inFairness.postprocessing.datainterfaces.PostProcessingObjectiveResponse">PostProcessingObjectiveResponse</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="utilities.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Utilities</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="distances.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Distances</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, IBM Research
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Post-Processing</a><ul>
<li><a class="reference internal" href="#base-post-processing-class">Base post-processing class</a><ul>
<li><a class="reference internal" href="#inFairness.postprocessing.BasePostProcessing"><code class="docutils literal notranslate"><span class="pre">BasePostProcessing</span></code></a><ul>
<li><a class="reference internal" href="#inFairness.postprocessing.BasePostProcessing.add_datapoints"><code class="docutils literal notranslate"><span class="pre">BasePostProcessing.add_datapoints()</span></code></a></li>
<li><a class="reference internal" href="#inFairness.postprocessing.BasePostProcessing.data"><code class="docutils literal notranslate"><span class="pre">BasePostProcessing.data</span></code></a></li>
<li><a class="reference internal" href="#inFairness.postprocessing.BasePostProcessing.distance_matrix"><code class="docutils literal notranslate"><span class="pre">BasePostProcessing.distance_matrix</span></code></a></li>
<li><a class="reference internal" href="#inFairness.postprocessing.BasePostProcessing.reset_datapoints"><code class="docutils literal notranslate"><span class="pre">BasePostProcessing.reset_datapoints()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#graph-laplacian-individual-fairness-glif">Graph Laplacian Individual Fairness (GLIF)</a><ul>
<li><a class="reference internal" href="#inFairness.postprocessing.GraphLaplacianIF"><code class="docutils literal notranslate"><span class="pre">GraphLaplacianIF</span></code></a><ul>
<li><a class="reference internal" href="#inFairness.postprocessing.GraphLaplacianIF.get_objective"><code class="docutils literal notranslate"><span class="pre">GraphLaplacianIF.get_objective()</span></code></a></li>
<li><a class="reference internal" href="#inFairness.postprocessing.GraphLaplacianIF.postprocess"><code class="docutils literal notranslate"><span class="pre">GraphLaplacianIF.postprocess()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>